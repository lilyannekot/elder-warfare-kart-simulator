(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,t,n){},53:function(e,t){},65:function(e,t,n){"use strict";n.r(t);var a,c,r,s,i,o,l=n(3),j=n.n(l),d=n(48),b=n.n(d),u=(n(46),n(18)),h=n(56),m=n(76),O=n(78),x=n(75),p=n(54),g=n(13),v=n(5),f=n(26),w=n(32),y=n(25),k=n(11),N=n(79),S=n(22),_=n(77),I=Object(_.a)(a||(a=Object(S.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),C=Object(_.a)(c||(c=Object(S.a)(["\n  mutation addUser($username: String!, $password: String!) {\n    addUser(username: $username, password: $password) {\n      _id\n      username\n      password\n    }\n  }\n"]))),$=(Object(_.a)(r||(r=Object(S.a)(["\n    mutation deleteUser($_id: ID)\n        deleteUser(_id: $_id) {\n            _id\n            username\n            password\n            character\n        }\n"]))),Object(_.a)(s||(s=Object(S.a)(["\n    mutation addCharacter($name: String!)\n        addCharction(name: $name){\n            _id\n            name\n            hp\n            damage\n            hitChance\n            dodge\n            credits\n            items\n            abilities\n        }\n"]))),Object(_.a)(i||(i=Object(S.a)(["\n    mutation updateCharacterItem($_id: ID)\n        updateChracterItem(_id: $_id){\n            _id\n            items {\n                name\n                description\n            }\n        }\n"]))),Object(_.a)(o||(o=Object(S.a)(["\n    mutation updateCharacterAbility($_id: ID)\n        updateCharacterAbility(_id: $_id){\n            _id\n            abilities {\n                name\n                description\n            }\n        }\n"]))),n(49)),D=n(50),L=n(51),F=new(function(){function e(){Object($.a)(this,e)}return Object(D.a)(e,[{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){if(Object(L.a)(e).exp<Date.now()/1e3)return localStorage.removeItem("id_token"),!0}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),P=n(2),T=function(e){var t=Object(l.useState)({username:"",password:""}),n=Object(k.a)(t,2),a=n[0],c=n[1],r=Object(N.a)(I),s=Object(k.a)(r,2),i=s[0],o=s[1],j=o.error,d=o.data,b=function(e){var t=e.target,n=t.name,r=t.value;c(Object(u.a)(Object(u.a)({},a),{},Object(y.a)({},n,r)))},h=function(){var e=Object(w.a)(Object(f.a)().mark((function e(t){var n,r;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i({variables:Object(u.a)({},a)});case 4:n=e.sent,r=n.data,F.login(r.login.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:c({username:"",password:""});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(P.jsx)("div",{className:"col-12",children:Object(P.jsxs)("div",{className:"card",children:[Object(P.jsx)("h4",{className:"text-light",children:"Login"}),Object(P.jsxs)("div",{className:"card-body",children:[d?Object(P.jsx)("p",{children:Object(P.jsx)(g.b,{to:"/instructions",children:"Head to Instructions Page"})}):Object(P.jsxs)("form",{onSubmit:h,children:[Object(P.jsx)("input",{placeholder:"Username",name:"username",type:"username",value:a.username,onChange:b}),Object(P.jsx)("input",{placeholder:"******",name:"password",type:"password",value:a.password,onchange:b}),Object(P.jsx)("button",{className:"btn btn-danger",style:{cursor:"pointer"},type:"submit",children:"Login"})]}),j&&Object(P.jsx)("div",{className:"bg-danger text-white",children:j.message})]})]})})})},U=function(){var e=Object(l.useState)({username:"",password:"",characterName:""}),t=Object(k.a)(e,2),n=t[0],a=t[1],c=Object(N.a)(C),r=Object(k.a)(c,2),s=r[0],i=r[1],o=i.error,j=i.data,d=function(e){var t=e.target,c=t.name,r=t.value;a(Object(u.a)(Object(u.a)({},n),{},Object(y.a)({},c,r)))},b=function(){var e=Object(w.a)(Object(f.a)().mark((function e(t){var a,c;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s({variables:Object(u.a)({},n)});case 4:a=e.sent,c=a.data,F.login(c.addUser.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)("main",{className:"flex-row justify-center",children:Object(P.jsx)("div",{children:Object(P.jsxs)("div",{className:"card",children:[Object(P.jsx)("h4",{className:"text-light",children:"Signup"}),Object(P.jsxs)("div",{className:"card-body",children:[j?Object(P.jsx)("p",{children:Object(P.jsx)(g.b,{to:"/instructions",children:"Head to Instructions Page"})}):Object(P.jsxs)("form",{onSubmit:b,children:[Object(P.jsx)("input",{placeholder:"Username",name:"username",type:"username",value:n.username,onChange:d}),Object(P.jsx)("input",{placeholder:"******",name:"password",type:"password",value:n.password,onchange:d}),Object(P.jsx)("input",{placeholder:"Character Name",name:"characterName",value:n.characterName,onChange:d}),Object(P.jsx)("button",{className:"btn btn-danger",style:{cursor:"pointer"},type:"submit",children:"Signup"})]}),o&&Object(P.jsx)("div",{className:"bg-danger text-white",children:o.message})]})]})})})};var B=function(){return Object(P.jsxs)("div",{className:"instructions",children:[Object(P.jsx)("h1",{children:"Welcome to Elder Warfare Kart Simulator!"}),Object(P.jsx)("h3",{children:"Here is all you need to know to play:"}),Object(P.jsx)("h4",{children:"The game is centered around turn based combat and purchasing items to boost your stats."}),Object(P.jsx)("h4",{children:"You have HP and attack stats, your attack stat modifies the damage your abilities do."}),Object(P.jsx)("h4",{children:"After combat, you are taken to a store page where you can choose to buy items for the next battle."}),Object(P.jsx)("h4",{children:"You have four abilities:"}),Object(P.jsxs)("ul",{children:[Object(P.jsx)("li",{children:"Slap: Basic attack, high hit chance."}),Object(P.jsx)("li",{children:"Nap time: replenishes hp"}),Object(P.jsx)("li",{children:"Run-over: High damage attack with low hit chance"}),Object(P.jsx)("li",{children:"Run-away: leave the battle."})]}),Object(P.jsx)("h4",{children:"If you lose, your account is permanently deleted."}),Object(P.jsx)("button",{className:"continue-button",children:Object(P.jsx)(g.b,{to:"/Battle",children:"Play!"})})]})},H=n(53),E=n.n(H),M=function(e){return Object(P.jsx)("div",{children:Object(P.jsx)("h1",{children:"Fight!"})})};var A=function(){return Object(P.jsx)("main",{className:"flex-row justify-center",children:Object(P.jsx)("div",{children:Object(P.jsx)("video",{src:"client/public/assets/game-over-video.mp4"})})})},J=function(){return Object(P.jsx)("header",{className:"bg-danger text-light align-center",children:Object(P.jsx)("div",{className:"container flex-row justify-center align-center",children:Object(P.jsx)("div",{children:F.loggedIn()?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("button",{className:"btn btn-danger",onClick:function(e){e.preventDefault(),F.logout()},children:"Logout"})}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(g.b,{className:"btn btn-danger",to:"/login",children:"Login"}),Object(P.jsx)(g.b,{className:"btn btn-danger",to:"/signup",children:"Signup"}),Object(P.jsx)(g.b,{className:"btn btn-danger",to:"/instructions",children:"Instructions"})]})})})})},K=function(){return Object(P.jsx)("footer",{className:"bg-danger text-light",children:Object(P.jsx)("div",{className:"text-center",children:Object(P.jsx)("h4",{children:"Made by Jonathan Mengal, Pat Barkley, Lily Kot, and Liam McCarthy"})})})},R=Object(h.a)({uri:"/graphql"}),W=Object(p.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(u.a)(Object(u.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),Y=new m.a({link:W.concat(R),cache:new O.a});var q=function(){return Object(P.jsx)(x.a,{client:Y,children:Object(P.jsxs)(g.a,{children:[Object(P.jsx)("div",{className:"flex-column justify-flex-start",children:Object(P.jsx)(J,{})}),Object(P.jsx)("div",{children:Object(P.jsxs)(v.c,{children:[Object(P.jsx)(v.a,{path:"/",element:Object(P.jsx)(T,{})}),Object(P.jsx)(v.a,{path:"/signup",element:Object(P.jsx)(U,{})}),Object(P.jsx)(v.a,{path:"/instructions",element:Object(P.jsx)(B,{})}),Object(P.jsx)(v.a,{path:"/store",element:Object(P.jsx)(E.a,{})}),Object(P.jsx)(v.a,{path:"/battle",element:Object(P.jsx)(M,{})}),Object(P.jsx)(v.a,{path:"/loser",element:Object(P.jsx)(A,{})})]})}),Object(P.jsx)("div",{children:Object(P.jsx)(K,{})})]})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};b.a.render(Object(P.jsx)(j.a.StrictMode,{children:Object(P.jsx)(q,{})}),document.getElementById("root")),z()}},[[65,1,2]]]);
//# sourceMappingURL=main.913f821c.chunk.js.map